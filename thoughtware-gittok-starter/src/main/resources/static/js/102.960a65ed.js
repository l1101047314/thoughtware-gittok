(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{1345:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(499),o=n(638),u=n(639),l=n(640),s=n(641),c=n(642),m=n(643),d=(n(1152),n(802)),N=n.n(d),b=(n(1153),n(800)),f=n.n(b),p=n(637),g=n(509),y=n(572),h=n(635),_=n(636),v="/Users/limingliang/xcode-xpack/web/thoughtware-gittok-ui/src/setting/navigator/SettingRouters.js",w=(h.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,_.a,n(231)),E=n(205),S=n(59),j="/Users/limingliang/xcode-xpack/web/thoughtware-gittok-ui/src/setting/navigator/SettingContent.js";function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],l=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){s=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return u}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=Object(S.inject)("systemRoleStore")(Object(S.observer)((function(e){var t=e.route,n=(e.isDepartment,e.applicationRouters),a=e.systemRoleStore.systemPermissions,o=Object(E.a)().t,u=e.location.pathname,l=O(Object(r.useState)(u),2),s=l[0],c=l[1],m=O(Object(r.useState)([""]),2),d=m[0],b=m[1],h=O(Object(r.useState)(null),2),_=h[0],v=h[1];Object(r.useEffect)((function(){u.startsWith("/setting/scanRule")?c("/setting/scanRuleSet"):u.startsWith("/setting/power/repository")?c("/setting/power/user"):c(u);var e=localStorage.getItem("authConfig");v(JSON.parse(e))}),[u]);var S=function(e){return d.some((function(t){return t===e}))},x=function(t,n){return i.a.createElement(f.a,k({key:t.id,code:t.purviewCode},e,{__source:{fileName:j,lineNumber:86,columnNumber:13}}),i.a.createElement("li",{style:{cursor:"pointer",paddingLeft:"".concat(20*n+20)},className:"system-aside-li system-aside-second ".concat(t.id===s?"system-aside-select":null),onClick:function(){return function(t){var n=t.id;n.endsWith("orga")||n.endsWith("user")||n.endsWith("userGroup")||n.endsWith("dir")?_.authType?e.history.push(t.id):window.open("".concat(_.authUrl,"/#").concat(n)):e.history.push(t.id)}(t)},key:t.id,__source:{fileName:j,lineNumber:87,columnNumber:17}},i.a.createElement("div",{className:"nav-style",__source:{fileName:j,lineNumber:92,columnNumber:21}},i.a.createElement("span",{className:"sys-content-icon",__source:{fileName:j,lineNumber:93,columnNumber:25}},t.icon),i.a.createElement("span",{className:"nav-style-title",__source:{fileName:j,lineNumber:94,columnNumber:25}},o(t.title)),!(null!=_&&_.authType)&&(t.id.endsWith("orga")||t.id.endsWith("user")||t.id.endsWith("userGroup")||t.id.endsWith("dir"))&&i.a.createElement("span",{__source:{fileName:j,lineNumber:97,columnNumber:29}},i.a.createElement(p.a,{__source:{fileName:j,lineNumber:98,columnNumber:33}})))))},A=function(e,t){return i.a.createElement("li",{key:e.id,className:"system-aside-li",__source:{fileName:j,lineNumber:109,columnNumber:13}},i.a.createElement("div",{className:"system-aside-item system-aside-first",style:{paddingLeft:"".concat(20*t+20)},onClick:function(){return t=e.id,void(S(t)?b(d.filter((function(e){return e!==t}))):b(d.concat(t)));var t},__source:{fileName:j,lineNumber:110,columnNumber:17}},i.a.createElement("span",{__source:{fileName:j,lineNumber:114,columnNumber:21}},i.a.createElement("span",{className:"sys-content-icon",__source:{fileName:j,lineNumber:115,columnNumber:25}},e.icon),i.a.createElement("span",{className:"system-aside-title",__source:{fileName:j,lineNumber:116,columnNumber:25}},o(e.title))),i.a.createElement("div",{className:"system-aside-item-icon",__source:{fileName:j,lineNumber:118,columnNumber:21}},e.children?S(e.id)?i.a.createElement(g.a,{style:{fontSize:"10px"},__source:{fileName:j,lineNumber:122,columnNumber:41}}):i.a.createElement(y.a,{style:{fontSize:"10px"},__source:{fileName:j,lineNumber:123,columnNumber:41}}):"")),i.a.createElement("ul",{className:"system-aside-ul ".concat(S(e.id)?null:"system-aside-hidden"),__source:{fileName:j,lineNumber:128,columnNumber:17}},e.children&&e.children.map((function(e){var n=t+1;return e.children&&e.children.length?R(e,n):x(e,n)}))))},R=function(e,t){return(e.children.some((function(e){return!e.purviewCode}))||e.children.some((function(e){return a.includes(e.purviewCode)})))&&A(e,t)};return i.a.createElement(N.a,k({},e,{expandedTree:d,setExpandedTree:b,applicationRouters:n,outerPath:"/setting",notFoundPath:"/noaccess",__source:{fileName:j,lineNumber:149,columnNumber:9}}),i.a.createElement("div",{className:"system",__source:{fileName:j,lineNumber:157,columnNumber:13}},i.a.createElement("div",{className:"system-aside",__source:{fileName:j,lineNumber:158,columnNumber:17}},i.a.createElement("ul",{className:"system-aside-top",style:{padding:0},__source:{fileName:j,lineNumber:159,columnNumber:21}},function(){try{return C(n)}catch(e){return C(n)}}().map((function(e){return e.children&&e.children.length>0?R(e,0):x(e,0)})))),i.a.createElement("div",{className:"system-content",__source:{fileName:j,lineNumber:168,columnNumber:17}},Object(w.a)(t.routes))))}))),W="/Users/limingliang/xcode-xpack/web/thoughtware-gittok-ui/src/setting/navigator/Setting.js";function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=[{id:"1",title:"用户与部门",icon:i.a.createElement(a.default,{__source:{fileName:W,lineNumber:20,columnNumber:19}}),children:[{id:"/setting/orga",title:"部门",purviewCode:"orga"},{id:"/setting/user",title:"Users",purviewCode:"user"},{id:"/setting/userGroup",title:"用户组",purviewCode:"user_group"},{id:"/setting/dir",title:"用户目录",purviewCode:"user_dir"},{id:"/setting/role",title:"Privilege",purviewCode:"gittok_authority"}]},{id:"2",title:"Message",icon:i.a.createElement(o.a,{__source:{fileName:W,lineNumber:52,columnNumber:22}}),children:[{id:"/setting/mes/notice",title:"Message Notification Scheme",purviewCode:"gittok_news_scheme"},{id:"/setting/mes/send",title:"Message Send Type",purviewCode:"gittok_news_way"}]},{id:"/setting/plugin",title:"Plugin",icon:i.a.createElement(u.a,{__source:{fileName:W,lineNumber:69,columnNumber:22}}),purviewCode:"gittok_plugin"},{id:"4",title:"仓库配置",icon:i.a.createElement(l.a,{__source:{fileName:W,lineNumber:75,columnNumber:22}}),children:[{id:"/setting/auth",title:"Keys",purviewCode:"gittok_ssh"},{id:"/setting/userpower",title:"用户仓库"},{id:"/setting/resources",title:"资源监控",purviewCode:"gittok_resource"}]},{id:"3",title:"代码扫描",icon:i.a.createElement(s.a,{__source:{fileName:W,lineNumber:99,columnNumber:19}}),purviewCode:"gittok_scan",children:[{id:"/setting/scanScheme",title:"扫描方案"},{id:"/setting/scanRuleSet",title:"扫描规则"},{id:"/setting/scanEnv",title:"扫描环境"}]},{id:"5",title:"Security",icon:i.a.createElement(c.a,{__source:{fileName:W,lineNumber:121,columnNumber:18}}),children:[{id:"/setting/myLog",title:"Operation Log",purviewCode:"gittok_log"},{id:"/setting/backupRecovery",title:"备份与恢复",purviewCode:"gittok_backups"}]},{id:"6",title:"应用",icon:i.a.createElement(m.a,{__source:{fileName:W,lineNumber:138,columnNumber:18}}),children:[{id:"/setting/version",title:"Version And Licence",purviewCode:"version"},{id:"/setting/authContent",title:"应用访问权限"}]}];return i.a.createElement(R,P({},e,{isDepartment:!0,applicationRouters:t,__source:{fileName:W,lineNumber:153,columnNumber:13}}))}}}]);