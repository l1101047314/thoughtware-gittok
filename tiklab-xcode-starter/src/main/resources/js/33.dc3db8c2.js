(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1457:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(372),c=n(405),i=n(378),u=n(376),l=n(56),m=n(922),s=n(744),f="/Users/limingliang/Desktop/workProject/tiklab-xcode-ui/src/repository/navigator/RepositoryAside.js";function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=Object(l.inject)("repositoryStore")(Object(l.observer)((function(e){var t=e.match,n=e.repositoryStore,l=(n.findNameRpy,n.findUserRpy),N=n.repositoryInfo,p=n.setRepositoryInfo,_=n.repositoryList,y=n.findRepository,g=t.params.rpyId,v=b(Object(r.useState)(!0),2),h=v[0],E=v[1];Object(r.useEffect)((function(){return l(),function(){p("")}}),[]),Object(r.useEffect)((function(){y(g).then((function(t){t.data?E(!1):e.history.push("/index/404")}))}),[]);var j=[{to:"/index/repository/".concat(g),title:"Code",icon:a.a.createElement(o.a,{__source:{fileName:f,lineNumber:42,columnNumber:18}})},{to:"/index/repository/".concat(g,"/commits/").concat(N&&N.defaultBranch),title:"Commits",icon:a.a.createElement(c.a,{__source:{fileName:f,lineNumber:47,columnNumber:19}})},{to:"/index/repository/".concat(g,"/branch"),title:"Branch",icon:a.a.createElement(i.a,{__source:{fileName:f,lineNumber:52,columnNumber:19}})},{to:"/index/repository/".concat(g,"/sonarQube"),title:"代码检测",icon:a.a.createElement(u.a,{__source:{fileName:f,lineNumber:57,columnNumber:19}})}];return h?a.a.createElement(s.a,{__source:{fileName:f,lineNumber:63,columnNumber:16}}):a.a.createElement(m.a,d({},e,{firstRouters:j,list:_,info:N,asideType:"repository",__source:{fileName:f,lineNumber:66,columnNumber:13}}))})))},702:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));n(111);var r=n(44),a=n(159),o=n.n(a),c=(o()().format("YYYY-MM-DD HH:mm:ss"),o()().format("HH:mm"),function(){var e=0;return window.innerHeight?e=window.innerHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&(e=document.documentElement.clientHeight),e-120}),i=function(e){var t=e,n=document.createElement("input");document.body.appendChild(n),n.setAttribute("value",t),n.select(),document.execCommand("Copy"),r.default.success("复制成功"),n.remove()},u=function(e,t){return t?e.split("/index/repository/"+t):e.split("/")},l=function(e,t){return"blank"===t?{pattern:/^[^\s]*$/,message:"".concat(e,"不能包含空格")}:"appoint"===t?{pattern:/^[a-zA-Z0-9_]([a-zA-Z0-9_\-.])*$/,message:"只能包含字母和数字、 '_'、 '.'和'-'，且只能以字母、数字或'_'开头"}:{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_-]{0,}$/,message:"".concat(e,"不能包含非法字符，如&,%，&，#……等")}}},723:function(e,t,n){var r={"./es":706,"./es-do":707,"./es-do.js":707,"./es-mx":708,"./es-mx.js":708,"./es-us":709,"./es-us.js":709,"./es.js":706,"./zh-cn":710,"./zh-cn.js":710};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=723},744:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));n(435);var r=n(303),a=n(0),o=n.n(a),c="/Users/limingliang/Desktop/workProject/tiklab-xcode-ui/src/common/loading/Loading.js",i=function(e){return o.a.createElement("div",{className:"xcode-container",__source:{fileName:c,lineNumber:13,columnNumber:9}},o.a.createElement("div",{className:"xcode-shape",__source:{fileName:c,lineNumber:14,columnNumber:13}}),o.a.createElement("div",{className:"xcode-shape",__source:{fileName:c,lineNumber:15,columnNumber:13}}),o.a.createElement("div",{className:"xcode-shape",__source:{fileName:c,lineNumber:16,columnNumber:13}}))},u=function(e){var t=e.size,n=e.type;return"list"===n?o.a.createElement("div",{style:{textAlign:"center"},__source:{fileName:c,lineNumber:31,columnNumber:17}},o.a.createElement(r.a,{size:t||"default ",__source:{fileName:c,lineNumber:32,columnNumber:21}})):"table"===n?o.a.createElement("div",{style:{textAlign:"center",paddingTop:30},__source:{fileName:c,lineNumber:37,columnNumber:18}},o.a.createElement(r.a,{size:t||"default ",__source:{fileName:c,lineNumber:38,columnNumber:21}})):o.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},__source:{fileName:c,lineNumber:42,columnNumber:13}},o.a.createElement(r.a,{size:t||"default ",__source:{fileName:c,lineNumber:43,columnNumber:17}}))}},756:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){var t=e.text,n=e.colors;return a.a.createElement("span",{className:"xcode-listname-icon ".concat(n?"xcode-icon-".concat(n):"xcode-icon-1"),__source:{fileName:"/Users/limingliang/Desktop/workProject/tiklab-xcode-ui/src/common/list/Listicon.js",lineNumber:12,columnNumber:13}},t&&t.substring(0,1).toUpperCase())}},922:function(e,t,n){"use strict";n(305);var r=n(170),a=n(0),o=n.n(a),c=n(307),i=n(232),u=n(409),l=n(399),m=n(310),s=n(744),f=n(702),d="/Users/limingliang/Desktop/workProject/tiklab-xcode-ui/src/common/aside/AsideMenu.js",b=function(e){var t=e.list,n=e.setIsLoading,r=e.asideType,c=e.info,i=e.setTriggerVisible,u=null;Object(a.useEffect)((function(){return function(){clearTimeout(u)}}),[u]);var l=function(t,a){return o.a.createElement("div",{onClick:function(){!function(t){if(t.name!==c.name){switch(i(!1),r){case"group":e.history.push("/index/group/".concat(t.name,"/survey"));break;case"house":t.codeGroup?e.history.push("/index/repository/".concat(t.codeGroup.name,"/").concat(t.name,"/tree")):e.history.push("/index/repository/".concat(t.user.name,"/").concat(t.name,"/tree"))}n(!0),u=setTimeout((function(){return n(!1)}),150)}}(t)},key:a,className:"menu-toggle-item ".concat(c&&c.name===t.name?"menu-toggle-active":""),__source:{fileName:d,lineNumber:45,columnNumber:17}},o.a.createElement("span",{className:"menu-toggle-icon xcode-icon-1",__source:{fileName:d,lineNumber:48,columnNumber:21}},t.name.substring(0,1).toUpperCase()),o.a.createElement("span",{className:"menu-toggle-name",__source:{fileName:d,lineNumber:51,columnNumber:21}},t.codeGroup&&t.codeGroup.name+"/",t.name))};return o.a.createElement("div",{className:"menu-toggle",__source:{fileName:d,lineNumber:59,columnNumber:9}},o.a.createElement("div",{className:"menu-toggle-title",__source:{fileName:d,lineNumber:60,columnNumber:13}},"切换仓库"),o.a.createElement("div",{className:"menu-toggle-group",__source:{fileName:d,lineNumber:61,columnNumber:13}},t&&t.map((function(e,t){return l(e,t)}))))},N=n(756),p="/Users/limingliang/Desktop/workProject/tiklab-xcode-ui/src/common/aside/Aside.js";function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.location,n=e.route,d=e.firstRouters,g=e.list,v=e.info,h=e.asideType,E=t.pathname,j=Object(m.a)().t,x=localStorage.getItem("isSide"),O=y(Object(a.useState)(""),2),w=O[0],k=O[1],S=y(Object(a.useState)("normal"),2),A=S[0],C=S[1],I=y(Object(a.useState)(!1),2),T=I[0],U=I[1],D=y(Object(a.useState)(!1),2),H=D[0],z=D[1];Object(a.useEffect)((function(){C(x||"normal")}),[A]),Object(a.useEffect)((function(){var e;switch(h){case"repository":e=P(Object(f.d)(E)[4]);break;case"group":e=E}k(e)}),[E,v]);var P=function(e){var t="/index/repository/".concat(v.rpyId);if(!e)return t;switch(e){case"tree":case"blob":case"edit":return t;case"commit":case"commits":return"".concat(t,"/commits/").concat(v&&v.defaultBranch);default:return t+"/"+e}};return console.info("查询",v),o.a.createElement("div",{className:"xcode-layout",__source:{fileName:p,lineNumber:103,columnNumber:9}},o.a.createElement("div",{className:"".concat(A,"-aside"),__source:{fileName:p,lineNumber:104,columnNumber:13}},o.a.createElement("div",{className:"".concat(A,"-aside-up"),__source:{fileName:p,lineNumber:105,columnNumber:17}},o.a.createElement(r.default,{overlay:o.a.createElement(b,_({},e,{list:g,info:v,asideType:h,setIsLoading:U,setTriggerVisible:z,__source:{fileName:p,lineNumber:107,columnNumber:34}})),trigger:["click"],visible:H,onVisibleChange:function(e){return z(e)},overlayClassName:"aside-dropdown-".concat(A," aside-dropdown"),__source:{fileName:p,lineNumber:106,columnNumber:21}},o.a.createElement("div",{className:"".concat(A,"-aside_chang"),onClick:function(e){return e.preventDefault()},__source:{fileName:p,lineNumber:120,columnNumber:25}},o.a.createElement(N.a,{text:v.name,__source:{fileName:p,lineNumber:121,columnNumber:29}}),"scrum"===A&&o.a.createElement("span",{className:"dropdowns_name",__source:{fileName:p,lineNumber:124,columnNumber:33}},v.name),o.a.createElement("span",{__source:{fileName:p,lineNumber:126,columnNumber:29}},o.a.createElement(i.a,{__source:{fileName:p,lineNumber:126,columnNumber:35}})))),d.map((function(t){return function(t){return o.a.createElement("div",{key:t.to,className:"".concat(A,"-aside-item ").concat(w===t.to?"".concat(A,"-aside-select"):""),onClick:function(){return e.history.push(t.to)},__source:{fileName:p,lineNumber:93,columnNumber:17}},o.a.createElement("div",{className:"".concat(A,"-aside-item-icon"),__source:{fileName:p,lineNumber:97,columnNumber:21}},t.icon),o.a.createElement("div",{className:"".concat(A,"-aside-item-title"),__source:{fileName:p,lineNumber:98,columnNumber:21}},j(t.title)))}(t)}))),o.a.createElement("div",{className:"".concat(A,"-aside-item"),onClick:function(){return function(){switch(h){case"repository":e.history.push("/index/repository/".concat(v.rpyId,"/sys/info"));break;case"group":e.history.push("/index/group/".concat(v.rpyId,"/sys/info"))}}()},__source:{fileName:p,lineNumber:134,columnNumber:17}},o.a.createElement("div",{className:"".concat(A,"-aside-item-icon"),__source:{fileName:p,lineNumber:135,columnNumber:21}},o.a.createElement(u.a,{__source:{fileName:p,lineNumber:135,columnNumber:73}})),o.a.createElement("div",{className:"".concat(A,"-aside-item-title"),__source:{fileName:p,lineNumber:136,columnNumber:21}},j("Setting"))),o.a.createElement("div",{className:"".concat(A,"-aside-item"),onClick:function(){return function(){if("scrum"===A)return C("normal"),void localStorage.setItem("isSide","normal");C("scrum"),localStorage.setItem("isSide","scrum")}()},__source:{fileName:p,lineNumber:138,columnNumber:17}},o.a.createElement("div",{className:"".concat(A,"-aside-item-icon"),__source:{fileName:p,lineNumber:139,columnNumber:21}},o.a.createElement(l.a,{__source:{fileName:p,lineNumber:139,columnNumber:73}})),o.a.createElement("div",{className:"".concat(A,"-aside-item-title"),__source:{fileName:p,lineNumber:140,columnNumber:21}},j("scrum"===A?"Collapse":"Expand")))),T?o.a.createElement(s.a,{__source:{fileName:p,lineNumber:144,columnNumber:29}}):o.a.createElement("div",{className:"xcode-layout-content",__source:{fileName:p,lineNumber:145,columnNumber:17}},Object(c.a)(n.routes)))}}}]);