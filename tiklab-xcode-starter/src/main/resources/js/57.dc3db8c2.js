(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1572:function(e,r,m){"use strict";m.r(r);m(305);var t=m(170),a=(m(90),m(34)),l=m(0),n=m.n(l),c=m(238),u=m(138),i=m(302),o=m(56),s=m(698),N=m(695),b=m(705),f=m(321),d=m(8),_=m(702),E="/Users/limingliang/Desktop/workProject/tiklab-xcode-ui/src/repository/file/components/Usher.js";function v(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var m=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=m){var t,a,l,n,c=[],u=!0,i=!1;try{if(l=(m=m.call(e)).next,0===r){if(Object(m)!==m)return;u=!1}else for(;!(u=(t=l.call(m)).done)&&(c.push(t.value),c.length!==r);u=!0);}catch(e){i=!0,a=e}finally{try{if(!u&&null!=m.return&&(n=m.return(),Object(n)!==n))return}finally{if(i)throw a}}return c}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return h(e,r);var m=Object.prototype.toString.call(e).slice(8,-1);"Object"===m&&e.constructor&&(m=e.constructor.name);if("Map"===m||"Set"===m)return Array.from(e);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return h(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var m=0,t=new Array(r);m<r;m++)t[m]=e[m];return t}var p=Object(o.observer)((function(e){var r=e.repositoryInfo,m=e.fileStore.cloneAddress,t=v(Object(l.useState)("http"),2),c=t[0],u=t[1];return n.a.createElement("div",{className:"usher",__source:{fileName:E,lineNumber:33,columnNumber:9}},n.a.createElement("div",{className:"usher-content xcode-home-limited xcode",__source:{fileName:E,lineNumber:34,columnNumber:13}},n.a.createElement(s.a,{firstItem:"Code",__source:{fileName:E,lineNumber:35,columnNumber:17}}),n.a.createElement("div",{className:"usher-segment",__source:{fileName:E,lineNumber:36,columnNumber:17}},n.a.createElement("div",{className:"usher-segment-url",__source:{fileName:E,lineNumber:37,columnNumber:21}},n.a.createElement("div",{className:"usher-title",__source:{fileName:E,lineNumber:38,columnNumber:25}},"快速设置--如果你知道该怎么操作，直接使用下面的地址"),n.a.createElement("div",{className:"usher-url",__source:{fileName:E,lineNumber:39,columnNumber:25}},n.a.createElement("div",{className:"usher-url-switch",__source:{fileName:E,lineNumber:40,columnNumber:29}},n.a.createElement("div",{className:"url-switch-prefix ".concat("http"===c?"prefix-active":""),onClick:function(){return u("http")},__source:{fileName:E,lineNumber:41,columnNumber:33}},"HTTP"),n.a.createElement("div",{className:"url-switch-prefix ".concat("SSH"===c?"prefix-active":""),onClick:function(){return u("SSH")},__source:{fileName:E,lineNumber:44,columnNumber:33}},"SSH")),n.a.createElement("div",{className:"usher-url-input",__source:{fileName:E,lineNumber:48,columnNumber:29}},n.a.createElement(a.default,{disabled:!0,value:"SSH"===c?m&&m.sshaddress:m.httpAddress,__source:{fileName:E,lineNumber:49,columnNumber:33}}),n.a.createElement("div",{className:"url-input-icon",onClick:function(){return Object(_.c)("SSH"===c?m&&m.sshaddress:m.httpAddress)},__source:{fileName:E,lineNumber:52,columnNumber:33}},n.a.createElement(f.a,{__source:{fileName:E,lineNumber:54,columnNumber:34}})))),n.a.createElement("div",{className:"usher-suggest",__source:{fileName:E,lineNumber:57,columnNumber:25}},"我们清冽建议所有的git仓库都有一个",n.a.createElement("span",{className:"usher-suggest-item",__source:{fileName:E,lineNumber:59,columnNumber:29}},"README"),"，",n.a.createElement("span",{className:"usher-suggest-item",__source:{fileName:E,lineNumber:60,columnNumber:29}},"LICENSE"),"，",n.a.createElement("span",{className:"usher-suggest-item",__source:{fileName:E,lineNumber:61,columnNumber:29}},".gitignore"),"文件"),n.a.createElement("div",{className:"usher-readme",onClick:function(){},__source:{fileName:E,lineNumber:64,columnNumber:25}},"初始化readme文件")),n.a.createElement("div",{className:"usher-segment-course",__source:{fileName:E,lineNumber:68,columnNumber:21}},n.a.createElement("div",{className:"usher-title",__source:{fileName:E,lineNumber:69,columnNumber:25}},"简易的命令入门教程"),n.a.createElement("div",{className:"usher-course-item",__source:{fileName:E,lineNumber:70,columnNumber:25}},n.a.createElement("div",{className:"course-item-name",__source:{fileName:E,lineNumber:71,columnNumber:29}},"Git全局设置："),n.a.createElement("div",{className:"course-item-content",__source:{fileName:E,lineNumber:72,columnNumber:29}},n.a.createElement("div",{__source:{fileName:E,lineNumber:73,columnNumber:33}},'git config --global user.name  "',Object(d.getUser)().name,'"'),n.a.createElement("div",{__source:{fileName:E,lineNumber:74,columnNumber:33}},'git config --global user.email  "',Object(d.getUser)().email?Object(d.getUser)().email:" ",'"'))),n.a.createElement("div",{className:"usher-course-item",__source:{fileName:E,lineNumber:77,columnNumber:25}},n.a.createElement("div",{className:"course-item-name",__source:{fileName:E,lineNumber:78,columnNumber:29}},"创建 git 仓库："),n.a.createElement("div",{className:"course-item-content",__source:{fileName:E,lineNumber:79,columnNumber:29}},n.a.createElement("div",{__source:{fileName:E,lineNumber:80,columnNumber:33}},"mkdir ",r&&r.name),n.a.createElement("div",{__source:{fileName:E,lineNumber:81,columnNumber:33}},"cd ",r&&r.name),n.a.createElement("div",{__source:{fileName:E,lineNumber:82,columnNumber:33}},"git init"),n.a.createElement("div",{__source:{fileName:E,lineNumber:83,columnNumber:33}},"touch README.md"),n.a.createElement("div",{__source:{fileName:E,lineNumber:84,columnNumber:33}},"git add README.md"),n.a.createElement("div",{__source:{fileName:E,lineNumber:85,columnNumber:33}},'git commit -m "first commit"'),n.a.createElement("div",{__source:{fileName:E,lineNumber:86,columnNumber:33}},"git remote add origin ","SSH"===c?m&&m.sshaddress:m.httpAddress),n.a.createElement("div",{__source:{fileName:E,lineNumber:88,columnNumber:33}},"git push -u origin master"))),n.a.createElement("div",{className:"usher-course-item",__source:{fileName:E,lineNumber:91,columnNumber:25}},n.a.createElement("div",{className:"course-item-name",__source:{fileName:E,lineNumber:92,columnNumber:29}},"已有仓库?"),n.a.createElement("div",{className:"course-item-content",__source:{fileName:E,lineNumber:93,columnNumber:29}},n.a.createElement("div",{__source:{fileName:E,lineNumber:94,columnNumber:33}},"cd ",r&&r.name),n.a.createElement("div",{__source:{fileName:E,lineNumber:95,columnNumber:33}},'git commit -m "first commit"'),n.a.createElement("div",{__source:{fileName:E,lineNumber:96,columnNumber:33}},"git push -u origin master")))))))})),y=m(1042),g=m(1043),j=m(1044),S=m(750),O=m(744),I="/Users/limingliang/Desktop/workProject/tiklab-xcode-ui/src/repository/file/components/File.js";function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var m=arguments[r];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&(e[t]=m[t])}return e}).apply(this,arguments)}function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var m=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=m){var t,a,l,n,c=[],u=!0,i=!1;try{if(l=(m=m.call(e)).next,0===r){if(Object(m)!==m)return;u=!1}else for(;!(u=(t=l.call(m)).done)&&(c.push(t.value),c.length!==r);u=!0);}catch(e){i=!0,a=e}finally{try{if(!u&&null!=m.return&&(n=m.return(),Object(n)!==n))return}finally{if(i)throw a}}return c}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return k(e,r);var m=Object.prototype.toString.call(e).slice(8,-1);"Object"===m&&e.constructor&&(m=e.constructor.name);if("Map"===m||"Set"===m)return Array.from(e);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return k(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,r){(null==r||r>e.length)&&(r=e.length);for(var m=0,t=new Array(r);m<r;m++)t[m]=e[m];return t}r.default=Object(o.inject)("repositoryStore","fileStore")(Object(o.observer)((function(e){var r=e.repositoryStore,m=e.fileStore,o=e.location,f=e.match,d=r.repositoryInfo,_=m.findFileTree,E=m.codeTreeData,v=m.findCloneAddress,h=m.cloneAddress,k=m.findLatelyBranchCommit,x=m.latelyBranchCommit,C=Object(l.useRef)(null),T=f.params.branch,H=Object(S.c)(T,d),M=Object(S.d)(o,d.rpyId+"/tree/"+T),U=A(Object(l.useState)(!1),2),D=U[0],B=U[1],P=A(Object(l.useState)(!0),2),R=P[0],J=P[1];Object(l.useEffect)((function(){d.name&&_({rpyId:d.rpyId,path:M[1],branch:H,findCommitId:Object(S.b)(T)}).then((function(r){J(!1),500001===r.code&&e.history.push("/index/404")}))}),[d.name,o.pathname]),Object(l.useEffect)((function(){d.name&&(v(d.rpyId),k({rpyId:d.rpyId,branch:H,findCommitId:Object(S.b)(T)}))}),[d.name]),Object(l.useEffect)((function(){D&&C.current.focus()}),[D]);var F=function(e){switch(e){case"txt":case"yaml":case"css":case"json":case"xml":case"cmd":case"md":case"sql":case"ts":case"java":return e;case"js":return"JavaScript";case"sh":return"powershell";case"gitignore":return"git";default:return"txt"}},L=n.a.createElement("div",{className:"file-add-menu",__source:{fileName:I,lineNumber:124,columnNumber:9}},n.a.createElement("div",{className:"file-add-item",__source:{fileName:I,lineNumber:125,columnNumber:13}},"新建文件"),n.a.createElement("div",{className:"file-add-item",__source:{fileName:I,lineNumber:126,columnNumber:13}},"新建文件夹"),n.a.createElement("div",{className:"file-add-item",__source:{fileName:I,lineNumber:127,columnNumber:13}},"上传文件"));if(!E)return n.a.createElement(p,{repositoryInfo:d,fileStore:m,__source:{fileName:I,lineNumber:132,columnNumber:17}});var $=function(r){return n.a.createElement("div",{key:r.fileName,className:"code-data-item",__source:{fileName:I,lineNumber:140,columnNumber:13}},n.a.createElement("div",{className:"code-item-fileName",onClick:function(){return m=r,void e.history.push("/index/repository/".concat(d.rpyId).concat(m.path));var m},__source:{fileName:I,lineNumber:141,columnNumber:17}},n.a.createElement("span",{style:{paddingRight:5},__source:{fileName:I,lineNumber:142,columnNumber:21}},"tree"===r.type?n.a.createElement(c.a,{__source:{fileName:I,lineNumber:145,columnNumber:33}}):n.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:I,lineNumber:147,columnNumber:33}},n.a.createElement("use",{xlinkHref:"#icon-".concat(F(r.fileType)),__source:{fileName:I,lineNumber:148,columnNumber:37}}))),n.a.createElement("span",{__source:{fileName:I,lineNumber:152,columnNumber:21}},r.fileName)),n.a.createElement("div",{className:"code-item-commitMessage",__source:{fileName:I,lineNumber:154,columnNumber:17}},r.commitMessage),n.a.createElement("div",{className:"code-item-commitTime",__source:{fileName:I,lineNumber:155,columnNumber:17}},r.commitTime))};return n.a.createElement("div",{className:"code",__source:{fileName:I,lineNumber:161,columnNumber:9}},n.a.createElement("div",{className:"code-content xcode-home-limited xcode",__source:{fileName:I,lineNumber:162,columnNumber:13}},n.a.createElement(s.a,{firstItem:"Code",__source:{fileName:I,lineNumber:163,columnNumber:17}}),n.a.createElement("div",{className:"code-content-head",__source:{fileName:I,lineNumber:164,columnNumber:17}},n.a.createElement(g.a,w({},e,{repositoryInfo:d,branch:T,fileAddress:M,type:"tree",__source:{fileName:I,lineNumber:165,columnNumber:21}})),n.a.createElement("div",{className:"code-head-right",__source:{fileName:I,lineNumber:172,columnNumber:21}},D?n.a.createElement("div",{className:"code-search-input",__source:{fileName:I,lineNumber:175,columnNumber:33}},n.a.createElement(a.default,{ref:C,placeholder:"文件名称",prefix:n.a.createElement(u.default,{__source:{fileName:I,lineNumber:180,columnNumber:49}}),onBlur:function(){return B(!1)},style:{width:200},__source:{fileName:I,lineNumber:176,columnNumber:37}})):n.a.createElement("div",{className:"code-search",__source:{fileName:I,lineNumber:186,columnNumber:33}},n.a.createElement(u.default,{onClick:function(){return B(!0)},__source:{fileName:I,lineNumber:187,columnNumber:37}})),n.a.createElement("div",{className:"code-file-add",__source:{fileName:I,lineNumber:190,columnNumber:25}},n.a.createElement(t.default,{overlay:L,trigger:["click"],placement:"bottomCenter",__source:{fileName:I,lineNumber:191,columnNumber:29}},n.a.createElement(i.default,{__source:{fileName:I,lineNumber:192,columnNumber:33}}))),n.a.createElement("div",{className:"code-desc",__source:{fileName:I,lineNumber:195,columnNumber:25}},n.a.createElement(N.a,{title:"WEB IDE",onClick:function(){},__source:{fileName:I,lineNumber:196,columnNumber:29}})),n.a.createElement("div",{className:"code-clone",__source:{fileName:I,lineNumber:198,columnNumber:25}},n.a.createElement(j.a,{cloneAddress:h,__source:{fileName:I,lineNumber:199,columnNumber:29}})))),n.a.createElement(y.a,w({},e,{latelyBranchCommit:x,repositoryInfo:d,__source:{fileName:I,lineNumber:203,columnNumber:17}})),n.a.createElement("div",{className:"code-content-tables",__source:{fileName:I,lineNumber:204,columnNumber:17}},n.a.createElement("div",{className:"code-data-item",__source:{fileName:I,lineNumber:205,columnNumber:21}},n.a.createElement("div",{className:"code-item-fileName",__source:{fileName:I,lineNumber:206,columnNumber:25}},"名称"),n.a.createElement("div",{className:"code-item-commitMessage",__source:{fileName:I,lineNumber:207,columnNumber:25}},"提交信息"),n.a.createElement("div",{className:"code-item-commitTime",__source:{fileName:I,lineNumber:208,columnNumber:25}},"提交时间")),M[1]&&n.a.createElement("div",{className:"code-data-item",onClick:function(){return r=E[0].fileParent,void e.history.push("/index/repository/".concat(d.rpyId,"/tree/").concat(T).concat(r));var r},__source:{fileName:I,lineNumber:212,columnNumber:25}},n.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:I,lineNumber:213,columnNumber:29}},n.a.createElement("use",{xlinkHref:"#icon-fanhui",__source:{fileName:I,lineNumber:214,columnNumber:33}}))),R?n.a.createElement(O.b,{type:"table",__source:{fileName:I,lineNumber:219,columnNumber:37}}):E&&E.length>0?E.map((function(e){return $(e)})):n.a.createElement(b.a,{title:"暂无文件",__source:{fileName:I,lineNumber:223,columnNumber:29}}))))})))}}]);